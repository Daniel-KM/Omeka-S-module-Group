CREATE TABLE `groups` (
    `id` INT AUTO_INCREMENT NOT NULL,
    `name` VARCHAR(190) NOT NULL,
    `comment` LONGTEXT DEFAULT NULL,
    UNIQUE INDEX UNIQ_F06D39705E237E06 (`name`),
    PRIMARY KEY(`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;
CREATE TABLE `group_resource` (
    `group_id` INT NOT NULL,
    `resource_id` INT NOT NULL,
    INDEX IDX_B5A1B869FE54D947 (`group_id`),
    INDEX IDX_B5A1B86989329D25 (`resource_id`),
    PRIMARY KEY(`group_id`, `resource_id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;
CREATE TABLE `group_user` (
    `group_id` INT NOT NULL,
    `user_id` INT NOT NULL,
    INDEX IDX_A4C98D39FE54D947 (`group_id`),
    INDEX IDX_A4C98D39A76ED395 (`user_id`),
    PRIMARY KEY(`group_id`, `user_id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE `utf8mb4_unicode_ci` ENGINE = InnoDB;
ALTER TABLE `group_resource` ADD CONSTRAINT FK_B5A1B869FE54D947 FOREIGN KEY (`group_id`) REFERENCES `groups` (`id`) ON DELETE CASCADE;
ALTER TABLE `group_resource` ADD CONSTRAINT FK_B5A1B86989329D25 FOREIGN KEY (`resource_id`) REFERENCES `resource` (`id`) ON DELETE CASCADE;
ALTER TABLE `group_user` ADD CONSTRAINT FK_A4C98D39FE54D947 FOREIGN KEY (`group_id`) REFERENCES `groups` (`id`) ON DELETE CASCADE;
ALTER TABLE `group_user` ADD CONSTRAINT FK_A4C98D39A76ED395 FOREIGN KEY (`user_id`) REFERENCES `user` (`id`) ON DELETE CASCADE;
